<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Semester Grades | Mohamed Refaat</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary: #e63946;
  --secondary: #b71c1c;
  --light: #fceae9;
  --dark: #2b0a0a;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:var(--light);color:var(--dark);}
header{min-height:120px;background:linear-gradient(135deg,var(--secondary),var(--primary));color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:20px;}
header h1{font-size:2.8rem;margin-bottom:10px;}
header p{font-size:1.2rem;opacity:0.9;}

#sidebar {
  position: fixed; left:-280px; top:0; width:280px; height:100%; 
  background: var(--primary); color:#fff; padding:90px 25px; transition:0.5s; z-index:1000; overflow-y:auto;
}
#sidebar h3{ font-size:24px; margin-bottom:20px; }
#sidebar ul{ list-style:none; font-size:18px; line-height:2.5; }
#sidebar ul li a{ color:white; text-decoration:none; display:flex; align-items:center; gap:8px; }

#toggleSidebarBtn {
  position: fixed; top:80px; left:20px; z-index:1002; padding:14px 18px;
  border-radius:12px; border:none; background: var(--secondary); color:white; font-size:26px; cursor:pointer;
  box-shadow:0 5px 15px rgba(0,0,0,0.3);
}

.container { max-width:1100px; margin:140px auto 50px; padding:0 20px; }
h2{text-align:center;font-size:2.2rem;margin-bottom:20px;}
.semesters{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;}
.card{background:#fff;border-radius:12px;padding:20px;box-shadow:0 10px 25px rgba(0,0,0,0.1);position:relative;}
.card input{width:100%;padding:8px;margin:5px 0;border-radius:8px;border:1px solid #ccc;}
.card h3{margin-bottom:8px;text-align:center;}
.card .deleteBtn{position:absolute;top:10px;right:10px;border:none;background:#e63946;color:white;padding:5px 8px;border-radius:6px;cursor:pointer;font-size:0.85rem;}
.card .deleteBtn:hover{background:#d62828;}
.add-btn{background: #4b6cb7;color:white;border:none;border-radius:50%;width:40px;height:40px;font-size:24px;cursor:pointer;position:fixed;bottom:30px;right:30px;box-shadow:0 5px 15px rgba(0,0,0,0.3);z-index:1002;}
.add-btn:hover{background:var(--secondary);}
.results{margin-top:20px;font-weight:600;}
</style>
</head>
<body>

<div id="sidebar">
  <h3>ğŸ“š Dashboard</h3>
  <ul>
    <li><a href="index.html">ğŸ  Home</a></li>
    <li><a href="year1.html">ğŸ©º Year 1</a></li>
    <li><a href="year2.html">ğŸ“– Year 2</a></li>
    <li><a href="year3.html">ğŸ¥ Year 3</a></li>
    <li><a href="deen.html">ğŸ•Œ Islamic Routine</a></li>
    <li><a href="calc.html">ğŸ§® Medical Calculators</a></li>
    <li><a href="brainwork.html">ğŸ§  Brain Work</a></li>
  </ul>
</div>

<button id="toggleSidebarBtn">â˜°</button>

<header>
  <h1>Semester Grades</h1>
  <p>Enter your scores and see cumulative results</p>
</header>

<div class="container">
  <h2>My Semesters</h2>
  <div class="semesters" id="semesterContainer"></div>
  <div class="results" id="year1Total"></div>
  <div class="results" id="year2Total"></div>
  <div class="results" id="cumulativeTotal"></div>
</div>

<button class="add-btn" id="addSemesterBtn">â•</button>

<script>
const sidebar = document.getElementById('sidebar');
document.getElementById('toggleSidebarBtn').onclick = () => {
  sidebar.style.left = sidebar.style.left === '0px' ? '-280px' : '0px';
};

let semesters = JSON.parse(localStorage.getItem('semesters')) || [];

function saveSemesters(){ localStorage.setItem('semesters',JSON.stringify(semesters)); }

function calculateAll(){
  let year1 = 0, year1Max=0, year2=0, year2Max=0, cumulative=0, cumulativeMax=0;
  semesters.forEach((s,index)=>{
    const percent = s.score && s.total ? (s.score/s.total*100).toFixed(2) : 0;
    s.percent = percent;
    if(index<2){ year1 += Number(s.score||0); year1Max += Number(s.total||0);}
    if(index>=2 && index<4){ year2 += Number(s.score||0); year2Max += Number(s.total||0);}
    cumulative += Number(s.score||0); cumulativeMax += Number(s.total||0);
  });
  document.getElementById('year1Total').innerText = `Year 1 Total: ${year1}/${year1Max} (${year1Max? (year1/year1Max*100).toFixed(2):0}%)`;
  document.getElementById('year2Total').innerText = `Year 2 Total: ${year2}/${year2Max} (${year2Max? (year2/year2Max*100).toFixed(2):0}%)`;
  document.getElementById('cumulativeTotal').innerText = `Cumulative Total: ${cumulative}/${cumulativeMax} (${cumulativeMax? (cumulative/cumulativeMax*100).toFixed(2):0}%)`;
}

function renderSemesters(){
  const container = document.getElementById('semesterContainer');
  container.innerHTML='';
  semesters.forEach((s,index)=>{
    const card = document.createElement('div');
    card.className='card';
    card.innerHTML=`
      <h3>${s.name}</h3>
      <input type="number" placeholder="Your Score" value="${s.score||''}" oninput="updateScore(${index}, this.value)">
      <input type="number" placeholder="Total Score" value="${s.total||''}" oninput="updateTotal(${index}, this.value)">
      <p>Percentage: ${s.percent||0}%</p>
      <button class="deleteBtn" onclick="deleteSemester(${index})">â–</button>
    `;
    container.appendChild(card);
  });
  calculateAll();
}

function addSemester(){
  const nextNum = semesters.length+1;
  semesters.push({name:`Semester ${nextNum}`, score:'', total:'', percent:0});
  saveSemesters();
  renderSemesters();
}

function deleteSemester(index){
  semesters.splice(index,1);
  saveSemesters();
  renderSemesters();
}

function updateScore(index,val){ semesters[index].score=val; saveSemesters(); renderSemesters(); }
function updateTotal(index,val){ semesters[index].total=val; saveSemesters(); renderSemesters(); }

document.getElementById('addSemesterBtn').onclick = addSemester;

// Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø®Ù…Ø³ ÙƒØ±ÙˆØª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
if(semesters.length===0){
  for(let i=1;i<=5;i++){ semesters.push({name:`Semester ${i}`, score:'', total:'', percent:0}); }
  saveSemesters();
}

renderSemesters();
</script>

</body>
</html>
